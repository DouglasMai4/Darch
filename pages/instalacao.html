<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instalação</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <!-- BoxIcons -->
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <!-- Styles -->
    <link rel="stylesheet" href="../styles/bootstrap.css">
    <link rel="stylesheet" href="../styles/style.css">
    <!-- Favicon -->
    <link rel="shortcut icon" href="../imgs/favicon.ico" type="image/x-icon">
  </head>
  <body>
    <!-- NavBar -->
    <nav class="navbar navbar-expand-sm border border-light bg-dark shadow navbar-dark m-1 p-1 rounded nav-pills sticky-top shadow">
      <img class="navbar-brand" style="width: 50px;" src="../imgs/logo.png">
      <button class="navbar-toggler m-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
        <ul class="navbar-nav text-center">
          <li class="nav-item">
            <a class="nav-link" href="../index.html"><i class='bx bxs-home'></i> Início</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="download.html"><i class='bx bxs-download' ></i> Download</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="mirror.html"><i class='bx bx-globe' ></i> Mirrorlist</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"><i class='bx bxs-game' ></i> Pacman</a>
            <ul class="dropdown-menu bg-primary text-center">
              <li><a class="dropdown-item" href="pacman.html#utilizar">Como Utilizar</a></li>
              <li><a class="dropdown-item" href="pacman.html#repo">Repositórios</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"><i class='bx bxs-hdd' ></i> Instalação</a>
            <ul class="dropdown-menu bg-primary text-center">
              <li><a class="dropdown-item" href="instalacao.html#particao">Partições</a></li>
              <li><a class="dropdown-item" href="instalacao.html#particionar">Particionar</a></li>
              <li><a class="dropdown-item" href="instalacao.html#formatar">Formatar</a></li>
              <li><a class="dropdown-item" href="instalacao.html#base">Instalar Base</a></li>
              <li><a class="dropdown-item" href="instalacao.html#so">Entrando SO</a></li>
              <li><a class="dropdown-item" href="instalacao.html#grub">Instalar Grub</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="posinstalacao.html"><i class='bx bxs-devices'></i> Pós Instalação</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"><i class='bx bx-desktop' ></i> Interfaces</a>
            <ul class="dropdown-menu bg-primary text-center">
              <li><a class="dropdown-item" href="interfaces.html#gnome">Gnome</a></li>
              <li><a class="dropdown-item" href="interfaces.html#plasma">Plasma</a></li>
              <li><a class="dropdown-item" href="interfaces.html#xfce">Xfce</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="sobre.html"><i class='bx bxs-info-circle' ></i> Sobre</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Conteudo principal -->
    <main class="bg-dark m-1 p-2 rounded text-center">
      <h1>Configuração Inicial</h1>
      <div class="container">
        <p>Para começarmos devemos mudar o estilo de teclado desta forma:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">loadkeys br-abnt2</code>
        </div>

        <p class="m-1">Agora vamos nos conectar a internet, alguns tutoriais desatualizados mandam utilizar wifi-menu para se conectar ao WIFI mas o Arch não vem com ele instalado por padrão por isso iremos utilizar o IWD. Primeiro vamos entrar no <strong>IWD</strong>:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">iwctl</code>
        </div>

        <p class="m-1">Agora vamos ver a lista de redes disponiveis executando o comando:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">iwctl wlan0 get-networks</code>
        </div>

        <p class="m-1">Vamos nos conectar a rede:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">iwctl wlan0 connect NOME_DA_REDE</code>
        </div>

        <p class="m-1">Vamos testar se a conexão está funcionando:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">ping google.com</code><br /><br />
        </div>

        <br />

        <div class="alert alert-warning">
          <strong>Atenção!</strong><br>Caso esteja conectado via cabo, ignore esta estapa
        </div>

        <hr>

        <h1 id="particao">Partições</h1>

        <p>Utilize o comando:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">fdisk -l</code>
        </div>

        <p class="m-1">Para listar todos os dispositivos conectados, é importante identificar qual HD/SSD você deseja instalar o Arch, para exemplo vamos dizer que vamos usar o disco /dev/sda</p>

        <p>Agora acesse o seu disco utilizando:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">fdisk /dev/sda</code>
        </div>

        <p class="m-1">Agora você pode digitar M para ver as opições disponiveis, neste caso queremos criar uma tabela GPT vazia então vamos digitar g, após isto digitamos W para salvar e sair, <strong>Lembrando que isto irá formatar o seu HD/SSD</strong></p>

        <hr>

        <h1 id="particionar">Particionar</h1>

        <p>Agora vamos particionar o HD/SSD, eu gosto de utilizar o CFDISK mas sinta-se a vontade para utilizar qualquer outro particionador. Utilize o comando para editar as partções no disco:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">cfdisk /dev/sda</code>
        </div>

        <p class="m-1">Agora crie as seguintes partições:</p>

        <dl>
          <dt>Bios Boot</dt>
          <dd>Partição de 512MB para boot Legacy.</dd>

          <dt>EFI System</dt>
          <dd>Partição de 512MB para EFI.</dd>

          <dt>Swap</dt>
          <dd>Recomendo 2GB para utilizar como swap do sistema (Não obrigatório)</dd>

          <dt>Linux File System</dt>
          <dd>Mais de 20GB para o / do sistema</dd>

          <dt>Linux File Sistem</dt>
          <dd>Quantidade que desejar recomendo mais de 20GB para o /home (Somente criar está partição caso deseje /home separado)</dd>
        </dl>

        <hr>

        <h1 id="formatar">Formatar e montar partições</h1>

        <p>Agora vamos formatar as partições criadas:</p>

        <div class="d-flex justify-content-center">
          <ol>
            <li class="m-1">Boot: <code class="border border-light rounded p-1">mkfs.fat -F32 /dev/sd?</code></li>
            <li class="m-1">/: <code class="border border-light rounded p-1">mkfs.ext4 /dev/sd?</code></li>
            <li class="m-1">Home (Caso separado): <code class="border border-light rounded p-1">mkfs.ext4 /dev/sd?</code></li>
            <li class="m-1">Swap: <code class="border border-light rounded p-1">mkswap /dev/sd?</code></li>
          </ol>
        </div>

        <p>Agora iremos montar as partições e criar alguns diretórios:</p>

        <div class="d-flex justify-content-center">
          <ol>
            <li class="m-1">/:<code class="border border-light rounded p-1">mount /dev/sd? /mnt</code></li>
            <li class="m-1">Diretório: <code class="border border-light rounded p-1">mkdir /mnt/home</code></li>
            <li class="m-1">Home: <code class="border border-light rounded p-1">mount /dev/sd? /mnt/home</code></li>
            <li class="m-1">Diretório: <code class="border border-light rounded p-1">mkdir /mnt/boot</code></li>
            <li class="m-1">Caso use EFI: <code class="border border-light rounded p-1">mkdir /mnt/boot/efi</code></li>
            <li class="m-1">Boot Legacy: <code class="border border-light rounded p-1">mount /dev/sd? /mnt/boot</code></li>
            <li class="m-1">Boot EFI: <code class="border border-light rounded p-1">mount /dev/sd? /mnt/boot/efi</code></li>
            <li class="m-1">Swap: <code class="border border-light rounded p-1">swapon /dev/sd?</code></li>
          </ol>
        </div>

        <hr>

        <h1 id="base">Instalar Base</h1>

        <p>Para instalar a base do sistema usamos o seguinte comando:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">pacstrap /mnt base linux linux-firmware bash-completion</code>
        </div>

        <p class="m-1">Agora vamos gerar o fstab:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">genfstab -U -p /mnt >> /mnt/etc/fstab</code>
        </div>

        <p class="m-1">Verifique se foi gerado corretamente:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">cat /mnt/etc/fstab</code>
        </div>

        <hr>

        <h1 id="so">Entrando no SO</h1>

        <p>Para entrar no sitema use:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">arch-chroot /mnt</code>
        </div>

        <p class="m-1">Você podera ver que seu terminal mudou isto indica que está dentro do sistema instalado. Vamos mudar a região do relógio para o horario de Brasilia:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">ln -sf /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime</code>
        </div>

        <p class="m-1">Vamos mudar para o relógio UTC:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">hwclock --systohc</code>
        </div>

        <p class="m-1">Instale um editor de texto de sua preferência neste caso vou usar o nano:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">pacman -S nano</code>
        </div>

        <p class="m-1">Para mudar o idioma do sistema descomente a linha que conter pt_BR.UTF-8 UTF-8 do arquivo /etc/locale.gen:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">nano /etc/locale.gen</code>
        </div>

        <p class="m-1">Agora vamos atualizar o idioma:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">locale-gen</code>
        </div>

        <p class="m-1">Vamos mudar a lingua padrão do sistema:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">echo LANG=pt-BR.UTF-8 >> /etc/locale.conf</code>
        </div>

        <p class="m-1">Mudar o layout do teclado:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">echo KEYMAP=br-abnt2 >> /etc/vconsole.conf</code>
        </div>

        <p class="m-1">Vamos mudar o nome do computador, para isso edite o arquivo /etc/hostname, depois edite o arquivo /etc/hosts e adicione as seguintes linhas:</p>

        <pre class="border border-light rounded p-1">127.0.0.1 localhost.localdomain localhost
::1 localhost.localdomain localhost
MEUHOSTNAME.localdomain MEUHOSTNAME</pre>

        <p>Vamos trocar a seha do root com:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">passwd root</code>
        </div>

        <p class="m-1">Agora iremos adicionar um usuário:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">useradd -m -G wheel NOME-USR</code>
        </div>

        <p class="m-1">Alterar senha do usuario:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">passwd NOME-USR</code>
        </div>

        <p class="m-1">Vamos instalar alguns pacotes nessesários:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">pacman -S dosfstools os-prober mtools network-manager-applet networkmanager wpa_supplicant wireless_tools dialog iwd dhcpcd sudo</code>
        </div>

        <p class="m-1">Edite o arquivo /etc/sudoers. Procure pela linha que tenha:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">root ALL=(ALL:ALL) ALL</code>
        </div>

        <p class="m-1">Adicione abaixo dela:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">NOME-USR ALL=(ALL:ALL) ALL</code>
        </div>

        <p class="m-1">Isto fará com que seu usuário possa usar o comando sudo</p>

        <hr>

        <h1 id="grub">Instalar o Grub</h1>
        <h2>Bios Legacy</h2>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">pacman -S grub</code>
        </div>
        <br />
        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">grub-install --target=i386-pc --recheck /dev/sd?</code>
        </div>
        <br />
        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">cp /usr/share/locale/en@quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo</code>
        </div>

        <hr>

        <h2>EFI</h2>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">pacman -S grub-efi-x86_64 efibootmgr</code><br /><br />
        </div>
        <br />
        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=Arch --recheck</code><br /><br />
        </div>
        <br />
        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">cp /usr/share/locale/en@quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo</code>
        </div>

        <hr>

        <p>Agora vamos gerar o arquivo de configuração do grub:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">grub-mkconfig -o /boot/grub/grub.cfg</code>
        </div>

        <p class="m-1">Antes de reiniciar vamos preparar algumas coisas:</p>

        <div class="d-flex justify-content-center">
          <ol type="I">
            <li class="m-1">Habilitar NetworkManager: <code class="border border-light rounded p-1">systemctl enable NetworkManager</code></li>
            <li class="m-1">Habilitar dhcpcd: <code class="border border-light rounded p-1">systemctl enable dhcpcd</code></li>
          </ol>
        </div>

        <p>Agora digite o comando:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">exit</code>
        </div>

        <p class="m-1">Para sair e use:</p>

        <div class="d-flex justify-content-center">
          <code class="border border-light rounded p-1">reboot</code>
        </div>

        <p class="m-1">Para reiniciar e entrar no sistema instalado.</p>

        <div class="btn-group" role="group" aria-label="Basic example">
          <button type="button" class="btn btn-outline-primary" onclick="window.location.href='pacman.html'">Anterior</button>
          <button type="button" class="btn btn-outline-primary" onclick="window.location.href='posinstalacao.html'">Próximo</button>
        </div>
      </div>
      <!-- Notificação -->
      <div class="toast show fixed-bottom m-2 shadow fade" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">Atenção</strong>
          <button type="button" class="btn-close ms-2 mb-1" data-bs-dismiss="toast" aria-label="Close">
            <span aria-hidden="true"></span>
          </button>
        </div>
        <div class="toast-body bg-dark border border-secondary rounded-bottom">
          Ao chegar na parte de mudar as partições do computador, tome cuidado para não formatar seu PC.
        </div>
      </div>
    </main>

    <!-- Rodape -->
    <footer class="bg-dark m-1 p-1 rounded text-center">
      <ul class="nav justify-content-center">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/DouglasMai4" target="_blank"><i style="font-size: 50px;" class='bx bxl-github'></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://t.me/Douglas_Maia" target="_blank"><i style="font-size: 50px;" class='bx bxl-telegram' ></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:douglasmai4@protonmail.com" target="_blank"><i style="font-size: 50px;" class='bx bxl-gmail' ></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://instagram.com/douglas_mai4" target="_blank"><i style="font-size: 50px;" class='bx bxl-instagram'></i></a>
        </li>
      </ul>
    </footer>

  </body>
</html>
